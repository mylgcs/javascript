<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>百度音乐全选全不选</title>
		<link rel="stylesheet" type="text/css" href="css/baidu.css"/>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
	</head>
	<body>
		<div class="wrap">
			<div class="baidu">
				<ul id="list">
					<li>
						<div><input type="checkbox" /></div>
						<span>泡沫</span>
						<span>邓紫棋</span>
					</li>
					<li>
						<div><input type="checkbox" /></div>
						<span>说爱你</span>
						<span>蔡依林</span>
					</li>
					<li>
						<div><input type="checkbox" /></div>
						<span>稻香</span>
						<span>周杰伦</span>
					</li>
					<li>
						<div><input type="checkbox" /></div>
						<span>我的梦</span>
						<span>张靓颖</span>
					</li>
					<li>
						<div><input type="checkbox" /></div>
						<span>怎么说我不爱你</span>
						<span>萧敬腾</span>
					</li>
					<li>
						<div><input type="checkbox" /></div>
						<span>无处安放</span>
						<span>白若溪</span>
					</li>
				</ul>
				<div class="select">
					<span class="selectAll">
						<input type="checkbox" id="selectAll" />
						<span>
						全选
						</span>
					</span>
					<div class="others">
						<span><em></em>收藏</span>
						<span><em></em>添加</span>
						<span><em></em>删除</span>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		let  list = document.querySelector('#list')
		let  lis = list.querySelectorAll("li")
		let  checkboxs = list.querySelectorAll('input')
		let  selectAll = document.querySelector("#selectAll")
		let colors=['red','pink'];
		/* for (let i = 0; i < lis.length; i++) {
			//添加索引值
			lis[i].index = i;
			//隔行变色
			lis[i].style.background = colors[i%colors.length];
			//鼠标移入事件
			lis[i].onmouseover = function (){
				this.style.background = 'yellow'
			}
			//鼠标移出事件
			lis[i].onmouseout = function (){
				let checkbox = this.querySelector('input');
				if(checkbox.checked == false){
					lis[i].style.background = colors[i%colors.length];
				}
			}
			//勾选
			checkboxs[i].onchange = function (){
				nub = 0;
				for (let i = 0; i < lis.length; i++) {			
					if(checkboxs[i].checked){
						nub++
					}
					selectAll.checked = (nub == checkboxs.length)
				}
			}			
			//全选全部选
			selectAll.onchange = function (){
				for (let i = 0; i < lis.length; i++) {
					//判断selectAll的checked为true还是false
						//1.true的话把所以的checkboxs变成true并且把lis的背景改成yellow
						//2.如果是false的话把所以的checkboxs改成false并在把背景改成隔行变色	
					if (selectAll.checked) {
						checkboxs[i].checked = true;
						lis[i].style.background = 'yellow';
					} else{
						checkboxs[i].checked = false;
						lis[i].style.background = colors[i%colors.length]
					}
				}
			}
		} */ 
		for (let i = 0; i < lis.length; i++) {
			lis[i].style.background = colors[i%colors.length]
			//鼠标移入
			lis[i].onmouseover = function (){
				this.style.background = 'yellow'
			}
			//鼠标移出
			lis[i].onmouseout = function (){
				let checkbox = this.querySelector('input');
				if(checkbox.checked == false){
					lis[i].style.background = colors[i%colors.length]
				}
			}
			//勾选
			checkboxs[i].onchange = function (){
				let nub = 0;
				for (let i = 0; i < lis.length; i++) {
					if(checkboxs[i].checked){
						nub++
					}
					selectAll.checked = ( nub == checkboxs.length )
				}
			}
			//全选全部选
			selectAll.onchange = function (){
				for (let i = 0; i < lis.length; i++) {
					if (selectAll.checked) {
						checkboxs[i].checked = true;
						lis[i].style.background ='yellow';
					} else{
						checkboxs[i].checked = false;
						lis[i].style.background = colors[i%colors.length]
					}
				}
			}
		}
	</script>
</html>
