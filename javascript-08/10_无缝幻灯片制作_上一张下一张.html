<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
#box {
	position: relative;
	margin: 30px auto;
	width: 700px;	
	overflow: hidden;
}	
#pics {
	margin: 0;
	padding: 0;
	list-style: none;
	width: 400%;
	overflow: hidden;
}
#pics li {
	float: left;
	width: 700px;
}
#pics img {
	width: 100%;
}
#nav {
	position: absolute;
	left: 0;
	bottom: 20px;
	height: 20px;
	width: 100%;
	text-align: center;
}
#nav a {
	display: inline-block;
	vertical-align: top;
	width: 20px;
	height: 20px;
	background: #fff;
}
#nav .active {
	background: #f60;
}
#prev,
#next {
	position: absolute;
	top: 95px;
	width: 100px;
	height: 100px;
}
#prev {
	left: 0;
	background: url('image/btn_prev.png') no-repeat rgba(255, 255, 255, .3);
}
#next {
	right: 0;
	background: url('image/btn_next.png') no-repeat rgba(255, 255, 255, .3);
}
</style>
<script type="text/javascript" src="mTween.js"></script>
</head>
<body>
<div id="box">
	<ul id="pics">
		<li>
			<a href="#">
				<img src="image/1.jpg">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="image/2.jpg">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="image/3.jpg">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="image/4.jpg">
			</a>
		</li>
	</ul>
	<nav id="nav">
		<a href="javascript:;" class="active"></a>
		<a href="javascript:;"></a>
		<a href="javascript:;"></a>
		<a href="javascript:;"></a>
	</nav>
	<a href="javascript:;" id="prev"></a>
	<a href="javascript:;" id="next"></a>
</div>
<script type="text/javascript">
(function(){
	/*
		css(el,attr,val) 方法：
			只传入两个参数时获取样式的值
			传入三个参数时，设置该样式的值
	*/
	var box = document.querySelector('#box');
	var pics = document.querySelector('#pics');
	var navs = document.querySelectorAll('#nav a');
	var prev = document.querySelector('#prev');
	var next = document.querySelector('#next');
	var imgW = css(box,"width");
	var now = 0;//记录当前显示的是，第几张
	css(pics,"translateX",0);
	for(var i = 0; i < navs.length; i++){
		navs[i].index = i;
		navs[i].onmouseover = function(){
			for(var i = 0; i < navs.length; i++){
				navs[i].className = "";
			}
			this.className = "active";
			mTween({
				el:pics,
				attrs: {
					translateX: -this.index*imgW
				},
				duration: 500,
				fx: "easeBoth"
			});
		};
	}
	prev.onclick = function(){
		now--;
		if(now < 0){
			now = 0;
		}
		for(var i = 0; i < navs.length; i++){
			navs[i].className = "";//清除所有的
		}
		navs[now].className = "active";//给当前要是现实加上
		mTween({
			el:pics,
			attrs: {
				translateX: -now*imgW
			},
			duration: 500,
			fx: "easeBoth"
		});
	}
	next.onclick = function(){
		now++;
		if(now > navs.length-1){
			now = navs.length-1;
		}
		for(var i = 0; i < navs.length; i++){
			navs[i].className = "";
		}
		navs[now].className = "active";
		mTween({
			el:pics,
			attrs: {
				translateX: -now*imgW
			},
			duration: 500,
			fx: "easeBoth"
		});
	}
})();	
</script>	
</body>
</html>